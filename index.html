<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <script>
      (function () {
        try {
          // Apply saved theme IMMEDIATELY before first paint â€” prevents flash
          var t = localStorage.getItem("theme");
          if (t) {
            document.documentElement.setAttribute("data-theme", t);
          } else if (window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches) {
            document.documentElement.setAttribute("data-theme", "light");
          }
          // Loading state + scroll position
          document.documentElement.classList.add("loading");
          window.addEventListener("load", function () {
            document.documentElement.classList.remove("loading");
          });
          var y = window.scrollY || document.documentElement.scrollTop || 0;
          document.documentElement.dataset._scrollY = String(y);
          document.documentElement.classList.toggle("at-top", y <= 8);
        } catch (e) {}
      })();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, viewport-fit=cover" />
    <title>Student Hub</title>
    <meta name="description" content="Notes, weekly breakdowns, and resources for NUST CS students â€” MCI, PRG, DBF, DTN, and ISS." />
    <meta property="og:title" content="Student Hub â€” NUST CS" />
    <meta property="og:description" content="Notes, weekly breakdowns, and resources for NUST CS students." />
    <meta property="og:type" content="website" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸ“š</text></svg>" />
    <link rel="manifest" href="manifest.json" />
    <script defer src="icons.js"></script>
    <script defer src="tip-of-day.js"></script>
    <script defer src="page-transitions.js"></script>
    <script defer src="back-to-top.js"></script>
    <script defer src="sw-register.js"></script>
    <script defer src="topbar-state.js"></script>
    <script defer src="theme.js"></script>
    <script defer src="nav.js"></script>
    <script defer src="updates.js"></script>
    <script defer src="anchor-highlight.js"></script>
    <script defer src="active-section.js"></script>
    <script defer src="deep-link.js"></script>
    <script defer src="contact.js"></script>
    <script defer src="modal-swipe.js"></script>
    <script defer src="modules-data.js"></script>
    <script defer src="command-palette.js"></script>
    <script defer src="auth.js"></script>
    <script defer src="nav-auth.js"></script>
    <script defer src="nav-mobile.js"></script>
  </head>

  <body>
    <a class="skip-link" href="#main">Skip to content</a>
    <div class="container">
      <header class="topbar">
        <a class="brand" href="index.html">Student Hub</a>

        <nav class="nav">
          <a href="modules.html">Modules</a>
          <a href="guides.html">Guides</a>
          <a href="#resources">Resources</a>
          <button class="nav-link" id="contactOpen" type="button">Contact</button>

          <button class="theme-btn" id="themeToggle" type="button" aria-label="Toggle theme">
            <span data-icon="moon" data-icon-size="18"></span>
          </button>
        </nav>
      </header>

      <main class="hero" id="main">
        <div class="hero-text">
          <h1>Study smarter, not harder <span data-icon="book-open" data-icon-size="32" data-icon-class="hero-icon"></span></h1>
          <p class="subtitle">
            Notes, weekly breakdowns, and resources for MCI, PRG, DBF, DTN, and ISS.
          </p>

          <div class="buttons">
            <a class="btn" href="modules.html">Go to Modules</a>
            <a class="btn" href="#resources">Browse Resources</a>
          </div>
        </div>

        <div class="hero-card tip-card" id="tipCard">
          <div class="tip-header">
            <p class="small-title"><span data-icon="lightbulb" data-icon-size="16" data-icon-class="tip-icon"></span> Tip of the day</p>
            <button class="tip-shuffle-btn" id="tipShuffle" type="button" aria-label="Show another tip" title="Another tip">
              <span data-icon="refresh-cw" data-icon-size="14"></span>
            </button>
          </div>
          <p class="tip-text" id="tipText"></p>
          <p class="tip-meta muted" id="tipMeta"></p>
        </div>
      </main>

      <div class="stats-bar" id="statsBar" aria-label="Site stats">
        <div class="stat-item">
          <span class="stat-number" data-target="30" data-stat="tips">0</span>
          <span class="stat-label">study tips</span>
        </div>
        <div class="stat-divider" aria-hidden="true"></div>
        <div class="stat-item">
          <span class="stat-number" data-target="4" data-stat="guides">0</span>
          <span class="stat-label">survival guides</span>
        </div>
        <div class="stat-divider" aria-hidden="true"></div>
        <div class="stat-item">
          <span class="stat-number" data-target="5" data-stat="modules">0</span>
          <span class="stat-label">modules covered</span>
        </div>
        <div class="stat-divider" aria-hidden="true"></div>
        <div class="stat-item">
          <span class="stat-number" data-target="10" data-stat="mistakes">0</span>
          <span class="stat-label">mistakes to avoid</span>
        </div>
      </div>

      <section class="section" id="start-here">
        <div class="section-head">
          <h2>Start here <span style="font-size:1rem; font-weight:400; color:var(--muted);">â€” Year 1</span></h2>
          <p class="muted">Student-made guides to help you study smarter and avoid common mistakes.</p>
        </div>

        <div class="guide-grid">
          <a class="guide-card" href="guide-first-year.html">
            <div class="guide-card-icon"><span data-icon="target" data-icon-size="28"></span></div>
            <h3>First Year Survival Guide</h3>
            <p class="muted">What to expect, what matters, and how to not fall behind.</p>
            <span class="guide-card-cta">Read guide â†’</span>
          </a>

          <a class="guide-card" href="guide-study.html">
            <div class="guide-card-icon"><span data-icon="brain" data-icon-size="28"></span></div>
            <h3>How to Study CS Properly</h3>
            <p class="muted">Why practice beats passive reading â€” and how to actually study.</p>
            <span class="guide-card-cta">Read guide â†’</span>
          </a>

          <a class="guide-card" href="guide-weekly.html">
            <div class="guide-card-icon"><span data-icon="calendar" data-icon-size="28"></span></div>
            <h3>Weekly Study Template</h3>
            <p class="muted">A Monâ€“Sun schedule, daily minimums, and a 3-day test ramp plan.</p>
            <span class="guide-card-cta">Read guide â†’</span>
          </a>

          <a class="guide-card" href="guide-mistakes.html">
            <div class="guide-card-icon"><span data-icon="triangle-alert" data-icon-size="28"></span></div>
            <h3>Top 10 Mistakes First Years Make</h3>
            <p class="muted">Blunt, honest, and avoidable. Don't learn these the hard way.</p>
            <span class="guide-card-cta">Read guide â†’</span>
          </a>
        </div>

        <p style="margin-top:14px; font-size:0.9rem;">
          <a href="guides.html" style="color:var(--accent);">See all guides â†’</a>
        </p>
      </section>

      <section class="section" id="updates">
        <div class="section-head">
          <h2>Latest updates</h2>
          <p class="muted">What's new for Computer Science students.</p>
        </div>

        <div class="updates card">
          <button class="update-item" type="button"
            data-update-id="mci-week4"
            data-link="modules.html#module-mci"
            data-title="MCI: Added Week 4 â€” Boolean Algebra & K-Maps"
            data-date="Jan 30, 2026"
            data-body="Added a clean breakdown of Boolean identities + quick K-map steps and common pitfalls. Includes mini practice questions.">
            <span class="update-title">MCI: Week 4 â€” Boolean Algebra & K-Maps <span class="badge" data-badge>NEW</span></span>
            <span class="update-meta">Jan 30, 2026 â€¢ Mathematics (MCI)</span>
          </button>

          <button class="update-item" type="button"
            data-update-id="prg-oop-recap"
            data-link="modules.html#module-prg"
            data-title="PRG: New OOP recap + class examples"
            data-date="Jan 29, 2026"
            data-body="Added simple examples for classes/objects and method patterns. Good for test revision and lab prep.">
            <span class="update-title">PRG: OOP recap + examples</span>
            <span class="update-meta">Jan 29, 2026 â€¢ Programming II (PRG)</span>
          </button>

          <button class="update-item" type="button"
            data-update-id="dtn-osi-tcpip"
            data-link="modules.html#module-dtn"
            data-title="DTN: OSI vs TCP/IP overview"
            data-date="Jan 28, 2026"
            data-body="Added an easy mapping table + quick notes for routing vs switching and why it matters.">
            <span class="update-title">DTN: OSI vs TCP/IP</span>
            <span class="update-meta">Jan 28, 2026 â€¢ Data Networks (DTN)</span>
          </button>
        </div>
      </section>

      <dialog class="modal" id="updateModal">
        <div class="modal-inner">
          <div class="modal-top">
            <div>
              <p class="modal-date" id="modalDate"></p>
              <h3 class="modal-title" id="modalTitle"></h3>
            </div>
            <button class="modal-close" type="button" id="modalClose" aria-label="Close">âœ•</button>
          </div>

          <p class="modal-body" id="modalBody"></p>

          <div class="modal-actions">
            <a class="btn primary" id="modalOpenUpdate" href="modules.html">Go to Modules</a>
            <button class="btn" type="button" id="modalOk">Close</button>
          </div>
        </div>
      </dialog>

      <dialog class="modal" id="contactModal">
        <div class="modal-inner">
          <div class="modal-top">
            <div>
              <p class="modal-date">Contact</p>
              <h3 class="modal-title">Get in touch</h3>
            </div>
            <button class="modal-close" type="button" id="contactClose" aria-label="Close">âœ•</button>
          </div>

          <p class="modal-body">
            Found a broken link, want to add past papers, or have a suggestion?
          </p>

          <div class="card" style="padding:12px; margin:12px 0; display:flex; align-items:center; justify-content:space-between; gap:12px;">
            <p style="margin:0; color:var(--muted); font-size:0.9rem;">Click to copy email address</p>
            <button class="btn primary" type="button" id="copyEmail">Copy email</button>
          </div>

          <div class="modal-actions contact-actions">
            <a class="btn primary" href="#" target="_blank" rel="noopener" id="suggestLink">Suggest a resource</a>
            <a class="btn" href="#" target="_blank" rel="noopener" id="reportLink">Report broken link</a>
            <a class="btn" href="#" target="_blank" rel="noopener" id="communityLink">Community (Discord)</a>
          </div>

          <p class="muted" style="margin:16px 0 0; text-align:center; font-size:0.78rem; opacity:0.6;">
            Maintained by Zach Â· Student Hub Project
          </p>
        </div>
      </dialog>

      <!-- Verification Modal -->
      <dialog class="modal" id="authModal">
        <div class="modal-inner">
          <div class="modal-top">
            <div>
              <p class="modal-date">Verification</p>
              <h3 class="modal-title">Verify Profile</h3>
            </div>
            <button class="modal-close" type="button" id="authClose" aria-label="Close">âœ•</button>
          </div>

          <p class="modal-body">
            Enter your username and access key to access personalized content.
          </p>

          <div style="margin:12px 0;">
            <label style="display:block; margin-bottom:6px; font-weight:600;">Username</label>
            <input
              type="text"
              id="authUsername"
              placeholder="username"
              autocomplete="username"
              style="width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:var(--card); color:var(--text); outline:none;"
            />
          </div>

          <div style="margin:12px 0;">
            <label style="display:block; margin-bottom:6px; font-weight:600;">Access Key</label>
            <div class="input-with-toggle">
              <input
                type="password"
                id="authAccessKey"
                placeholder="access key"
                autocomplete="current-password"
                style="width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:var(--card); color:var(--text); outline:none;"
              />
              <button type="button" id="authTogglePassword" class="input-toggle-btn" aria-label="Show access key">Show</button>
            </div>
          </div>

          <p id="authError" class="muted" style="margin:8px 0; color:#ff6b6b; display:none;"></p>

          <div class="modal-actions">
            <button class="btn primary" type="button" id="authSubmit">Verify</button>
          </div>
        </div>
      </dialog>

      <section class="section" id="resources">
        <h2>Featured Resources</h2>
        <p class="muted">Past papers, playlists, community links, and lab setup.</p>

        <div class="grid">
          <a class="tile" href="https://drive.google.com" target="_blank" rel="noopener noreferrer">
            <div class="thumb placeholder"></div>
            <h3>Past Papers</h3>
            <p>Exam practice and solutions (Drive folder).</p>
          </a>

          <a class="tile" href="https://www.youtube.com" target="_blank" rel="noopener noreferrer">
            <div class="thumb placeholder"></div>
            <h3>YouTube Playlists</h3>
            <p>Best videos per module â€” MCI, PRG, DBF, DTN.</p>
          </a>

          <a class="tile" href="https://discord.gg" target="_blank" rel="noopener noreferrer">
            <div class="thumb placeholder"></div>
            <h3>NUST CS Community</h3>
            <p>Discord / WhatsApp â€” ask questions, share notes.</p>
          </a>

          <a class="tile" href="#" target="_blank" rel="noopener noreferrer">
            <div class="thumb placeholder"></div>
            <h3>Exam Timetable</h3>
            <p>Important dates and exam schedule.</p>
          </a>

          <a class="tile" href="https://netbeans.apache.org" target="_blank" rel="noopener noreferrer">
            <div class="thumb placeholder"></div>
            <h3>Lab Tools</h3>
            <p>NetBeans, Java JDK, MySQL Workbench setup.</p>
          </a>
        </div>
      </section>

      <footer class="footer">
        <div class="footer-grid">
          <div>
            <p class="footer-title">Student Hub</p>
            <p class="muted">Built by Zach. Made for NUST students.</p>
          </div>

          <div>
            <p class="footer-title">Pages</p>
            <a href="index.html">Home</a><br />
            <a href="modules.html">Modules</a><br />
            <a href="guides.html">Guides</a><br />
            <a href="personal.html">Personal</a>
          </div>
        </div>

        <p class="muted">Not affiliated with NUST. Student-made hub.</p>
        <p class="copyright">Â© <span id="year"></span> Student Hub</p>
      </footer>
    </div>

    <script>
      document.getElementById("year").textContent = new Date().getFullYear();

      // Animated stat counters â€” triggers when scrolled into view
      // Targets are set dynamically from live data where possible.
      (function () {
        const bar = document.getElementById("statsBar");
        if (!bar) return;

        // --- Dynamic count updates ---
        // 1. Study tips: count from window.TIPS (set by tip-of-day.js)
        // 2. Modules: count from window.MODULES_DATA.y1
        // 3. Guides & mistakes are static HTML counts (4 guides, 10 mistakes)
        function updateDynamicTargets() {
          const numbers = bar.querySelectorAll(".stat-number");
          numbers.forEach((el) => {
            const type = el.dataset.stat;
            if (type === "tips" && window.TIPS) {
              el.dataset.target = String(window.TIPS.length);
            } else if (type === "modules" && window.MODULES_DATA && window.MODULES_DATA.y1) {
              el.dataset.target = String(window.MODULES_DATA.y1.length);
            }
          });
        }

        // Wait briefly for deferred scripts to load, then update
        window.addEventListener("load", updateDynamicTargets);

        const numbers = bar.querySelectorAll(".stat-number");
        let animated = false;

        function easeOut(t) { return 1 - Math.pow(1 - t, 3); }

        function animateCounters() {
          if (animated) return;
          updateDynamicTargets();
          animated = true;
          const duration = 1200;
          const start = performance.now();

          function tick(now) {
            const progress = Math.min((now - start) / duration, 1);
            const eased = easeOut(progress);
            numbers.forEach((el) => {
              const target = parseInt(el.dataset.target, 10);
              el.textContent = Math.round(eased * target);
            });
            if (progress < 1) requestAnimationFrame(tick);
          }
          requestAnimationFrame(tick);
        }

        // Use IntersectionObserver so it fires when bar scrolls into view
        if ("IntersectionObserver" in window) {
          new IntersectionObserver((entries, obs) => {
            if (entries[0].isIntersecting) {
              animateCounters();
              obs.disconnect();
            }
          }, { threshold: 0.4 }).observe(bar);
        } else {
          animateCounters(); // fallback
        }
      })();
    </script>
  </body>
</html>
